{"ast":null,"code":"var _jsxFileName = \"/home/gm/UBIQUM/projects/ubiqum-bootcamp/staff/genis-mestres/course-3/proyecto3/src/utilities/firebase.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, GoogleAuthProvider, onIdTokenChanged, signInWithPopup, signOut } from 'firebase/auth';\nimport 'firebase/auth'; //server\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyA7IQCKssE6prFPhcU1gFGKWH1oKK298QI\",\n  authDomain: \"ubiqum-course3-task3.firebaseapp.com\",\n  databaseURL: \"https://ubiqum-course3-task3-default-rtdb.europe-west1.firebasedatabase.app\",\n  projectId: \"ubiqum-course3-task3\",\n  storageBucket: \"ubiqum-course3-task3.appspot.com\",\n  messagingSenderId: \"899069188716\",\n  appId: \"1:899069188716:web:ea5b551477ed96fb139649\"\n};\nconst firebase = initializeApp(firebaseConfig); //login and logut\n\nconst firebaseSignOut = () => signOut(getAuth(firebase));\n\nconst signInWithGoogle = () => {\n  signInWithPopup(getAuth(firebase), new GoogleAuthProvider());\n  console.log(\"singin out\");\n}; //buttons for login and logout\n\n\nconst SignInButton = () => /*#__PURE__*/_jsxDEV(\"button\", {\n  className: \"navbar-brand bg-dark\",\n  onClick: () => signInWithGoogle(),\n  children: \"Sign In\"\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 29,\n  columnNumber: 3\n}, this);\n\n_c = SignInButton;\n\nconst SignOutButton = () => /*#__PURE__*/_jsxDEV(\"button\", {\n  className: \"navbar-brand bg-dark\",\n  onClick: () => firebaseSignOut(),\n  children: \"Sign Out\"\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 36,\n  columnNumber: 1\n}, this);\n\n_c2 = SignOutButton;\n\nconst useUserState = () => {\n  _s();\n\n  const [user, setUser] = useState(); // on id token changed, detecta cambios en id de la databade(que aquí llamamos firebase)  y lanza el id en setUser\n\n  useEffect(() => {\n    onIdTokenChanged(getAuth(firebase), setUser);\n  }, []);\n  return [user];\n};\n\n_s(useUserState, \"hT6C72rcbfRUedrDq+TPaFfRI/M=\");\n\nexport { SignInButton, SignOutButton, getAuth, useUserState, signInWithGoogle };\nexport { firebaseConfig };\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SignInButton\");\n$RefreshReg$(_c2, \"SignOutButton\");","map":{"version":3,"sources":["/home/gm/UBIQUM/projects/ubiqum-bootcamp/staff/genis-mestres/course-3/proyecto3/src/utilities/firebase.js"],"names":["useState","useEffect","initializeApp","getAuth","GoogleAuthProvider","onIdTokenChanged","signInWithPopup","signOut","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebase","firebaseSignOut","signInWithGoogle","console","log","SignInButton","SignOutButton","useUserState","user","setUser"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,aAAT,QAA8B,cAA9B;AACA,SAASC,OAAT,EAAkBC,kBAAlB,EAAsCC,gBAAtC,EAAwDC,eAAxD,EAAyEC,OAAzE,QAAwF,eAAxF;AACA,OAAO,eAAP,C,CAGA;;;AACA,MAAMC,cAAc,GAAG;AACrBC,EAAAA,MAAM,EAAE,yCADa;AAErBC,EAAAA,UAAU,EAAE,sCAFS;AAGrBC,EAAAA,WAAW,EAAE,6EAHQ;AAIrBC,EAAAA,SAAS,EAAE,sBAJU;AAKrBC,EAAAA,aAAa,EAAE,kCALM;AAMrBC,EAAAA,iBAAiB,EAAE,cANE;AAOrBC,EAAAA,KAAK,EAAE;AAPc,CAAvB;AAUA,MAAMC,QAAQ,GAAGd,aAAa,CAACM,cAAD,CAA9B,C,CACA;;AACA,MAAMS,eAAe,GAAG,MAAMV,OAAO,CAACJ,OAAO,CAACa,QAAD,CAAR,CAArC;;AAEC,MAAME,gBAAgB,GAAG,MAAM;AAC5BZ,EAAAA,eAAe,CAACH,OAAO,CAACa,QAAD,CAAR,EAAoB,IAAIZ,kBAAJ,EAApB,CAAf;AACAe,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACD,CAHF,C,CAKD;;;AACA,MAAMC,YAAY,GAAG,mBACnB;AAAQ,EAAA,SAAS,EAAC,sBAAlB;AACI,EAAA,OAAO,EAAE,MAAMH,gBAAgB,EADnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;;KAAMG,Y;;AAON,MAAMC,aAAa,GAAG,mBACtB;AAAQ,EAAA,SAAS,EAAC,sBAAlB;AACI,EAAA,OAAO,EAAE,MAAML,eAAe,EADlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA;;MAAMK,a;;AAOL,MAAMC,YAAY,GAAG,MAAM;AAAA;;AACxB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBzB,QAAQ,EAAhC,CADwB,CAExB;;AACAC,EAAAA,SAAS,CAAC,MAAM;AACdI,IAAAA,gBAAgB,CAACF,OAAO,CAACa,QAAD,CAAR,EAAoBS,OAApB,CAAhB;AACD,GAFQ,EAEN,EAFM,CAAT;AAIA,SAAO,CAACD,IAAD,CAAP;AACD,CARF;;GAAMD,Y;;AAYP,SAASF,YAAT,EAAuBC,aAAvB,EAAsCnB,OAAtC,EAA+CoB,YAA/C,EAA6DL,gBAA7D;AACA,SAASV,cAAT","sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { initializeApp } from 'firebase/app';\r\nimport { getAuth, GoogleAuthProvider, onIdTokenChanged, signInWithPopup, signOut } from 'firebase/auth';\r\nimport 'firebase/auth';\r\n\r\n\r\n//server\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyA7IQCKssE6prFPhcU1gFGKWH1oKK298QI\",\r\n  authDomain: \"ubiqum-course3-task3.firebaseapp.com\",\r\n  databaseURL: \"https://ubiqum-course3-task3-default-rtdb.europe-west1.firebasedatabase.app\",\r\n  projectId: \"ubiqum-course3-task3\",\r\n  storageBucket: \"ubiqum-course3-task3.appspot.com\",\r\n  messagingSenderId: \"899069188716\",\r\n  appId: \"1:899069188716:web:ea5b551477ed96fb139649\"\r\n};\r\n\r\nconst firebase = initializeApp(firebaseConfig);\r\n//login and logut\r\nconst firebaseSignOut = () => signOut(getAuth(firebase));\r\n\r\n const signInWithGoogle = () => {\r\n    signInWithPopup(getAuth(firebase), new GoogleAuthProvider());\r\n    console.log(\"singin out\");\r\n  };\r\n\r\n//buttons for login and logout\r\nconst SignInButton = () => (\r\n  <button className=\"navbar-brand bg-dark\"\r\n      onClick={() => signInWithGoogle()}>\r\n    Sign In\r\n  </button>\r\n);\r\n\r\nconst SignOutButton = () => (\r\n<button className=\"navbar-brand bg-dark\"\r\n    onClick={() => firebaseSignOut()}>\r\n  Sign Out\r\n</button>\r\n);\r\n\r\n const useUserState = () => {\r\n    const [user, setUser] = useState();\r\n    // on id token changed, detecta cambios en id de la databade(que aquí llamamos firebase)  y lanza el id en setUser\r\n    useEffect(() => {\r\n      onIdTokenChanged(getAuth(firebase), setUser);\r\n    }, []);\r\n\r\n    return [user];\r\n  };\r\n\r\n\r\n\r\nexport { SignInButton, SignOutButton, getAuth, useUserState, signInWithGoogle};\r\nexport { firebaseConfig }"]},"metadata":{},"sourceType":"module"}